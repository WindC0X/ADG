# ADG项目flake8配置文件

[flake8]
# 最大行长度，与black保持一致
max-line-length = 88

# 忽略的错误码
extend-ignore = 
    E203,    # 冒号前的空格 (与black冲突)
    W503,    # 二元操作符前换行 (与black冲突)
    E501,    # 行太长 (由black处理)
    F401,    # 导入但未使用 (在__init__.py中常见)
    E722,    # 裸露的except (有时必要)

# 排除的目录和文件
exclude = 
    .git,
    __pycache__,
    .bmad-core,
    build,
    dist,
    *.egg-info,
    .venv,
    venv,
    env,
    .env

# 每个文件的最大复杂度
max-complexity = 15

# 最大嵌套深度
max-nested-blocks = 5

# 导入检查
import-order-style = google
application-import-names = core,utils,height_measure,tests

# 文档字符串检查
docstring-convention = google

# 特定错误的配置
per-file-ignores =
    # 测试文件可以有更宽松的规则
    tests/*.py:F401,F811,E501
    # 主程序文件可能有较长的行
    main.py:E501
    # 配置文件
    */config*.py:E501